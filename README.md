🛡️ Rathole Watchdog
====================

مانیتور هوشمند و سبک برای تونل Ratholeو ریستارت خودکار در صورت قطع تونل. طراحی‌شده برای سرورها در ایران و خارج از ایران. (حل مشکل قطعی مکرر تانل رتهول )
ویژگی‌ها
--------


✅ **ورودی پورت اینباند**  
🔌 از شما پورت یکی از اینباندهای سرور مقابل را می‌پرسد

✅ **ریستارت خودکار رتهول**  
🔁 اگر تونل قطع باشد، به‌صورت دقیق مانند اسکریپت قبلی شما، رتهول را با `pkill` و `nohup` ریستارت می‌کند

✅ **تایمر systemd هر ۹۰ ثانیه**  
⏱ به‌جای حلقه بی‌نهایت، با استفاده از تایمر systemd هر 90 ثانیه اجرا می‌شود

✅ **لاگ کامل**  
🎨 ذخیره لاگ در `/var/log/rathole-watchdog.log`

نصب سریع
---------

برای نصب سریع، دستور زیر را در ترمینال اجرا کنید:

```bash
bash <(curl -s https://raw.githubusercontent.com/Mirzakochak/rathole-watchdog/main/install_rathole_watchdog.sh)
```

📌 مناسب برای Ubuntu, Debian و سیستم‌های دارای systemd  
📎 نیازمندی‌ها: `curl`, `bash`, `nc`, `rathole`

مثال از اجرای نصب
------------------

```bash
===========================================
     Rathole Tunnel Watchdog Installer     
===========================================
🌐 در حال شناسایی موقعیت سرور...
============================
   Country: IRAN  🇮🇷
============================
🌍 لطفاً IP یا دامنه سرور خارجی را وارد کن: 5.5.5.5
🔌 لطفاً پورت یکی از اینباندها را وارد کن: 443
✅ تنظیمات در /etc/rathole-watchdog.conf ذخیره شد.
✅ اسکریپت بررسی ساخته شد: /usr/local/bin/rathole-watchdog.sh
✅ نصب کامل شد!
⏱ تایمر هر 90 ثانیه وضعیت تونل را بررسی می‌کند.
📂 لاگ‌ها: /var/log/rathole-watchdog.log
🔁 در صورت قطعی، Rathole  ریستارت خواهد شد.
```

دستورات مدیریتی
----------------

```bash
systemctl list-timers | grep rathole       # مشاهده تایمرها
tail -f /var/log/rathole-watchdog.log      # مشاهده لاگ زنده
systemctl status rathole-watchdog.service  # بررسی وضعیت سرویس
```

ساخته‌شده با ❤️ توسط [Mirzakochak](https://github.com/Mirzakochak)
